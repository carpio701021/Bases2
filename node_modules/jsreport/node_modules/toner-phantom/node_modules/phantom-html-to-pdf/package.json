{
  "name": "phantom-html-to-pdf",
  "version": "0.3.3",
  "author": {
    "name": "Jan Blaha",
    "email": "jan.blaha@hotmail.com"
  },
  "contributors": [],
  "description": "Convert html to pdf using phantomjs",
  "keywords": [
    "html",
    "pdf",
    "conversion",
    "phantomjs"
  ],
  "homepage": "https://github.com/pofider/phantom-html-to-pdf",
  "repository": {
    "type": "git",
    "url": "git@github.com:pofider/phantom-html-to-pdf.git"
  },
  "dependencies": {
    "phantom-workers": "0.3.1",
    "phantomjs": "1.9.17",
    "underscore": "1.8.2",
    "uuid": "2.0.1"
  },
  "devDependencies": {
    "mocha": "2.1.0",
    "should": "5.0.1"
  },
  "scripts": {
    "test": "node lib/prepareScripts.js && mocha test/test.js --timeout 4000",
    "postinstall": "node lib/prepareScripts.js"
  },
  "main": "index.js",
  "license": "MIT",
  "readme": "#phantom-html-to-pdf\r\n[![NPM Version](http://img.shields.io/npm/v/phantom-html-to-pdf.svg?style=flat-square)](https://npmjs.com/package/phantom-html-to-pdf)\r\n[![License](http://img.shields.io/npm/l/phantom-html-to-pdf.svg?style=flat-square)](http://opensource.org/licenses/MIT)\r\n[![Build Status](https://travis-ci.org/pofider/phantom-html-to-pdf.png?branch=master)](https://travis-ci.org/pofider/phantom-html-to-pdf)\r\n\r\n> **node.js phantom wrapper for converting html to pdf in scale**\r\n\r\nYet another implementation of html to pdf conversion in node.js using phantomjs. This one differs from others in performance and scalability. Unlike others it allocates predefined number of phantomjs worker processes which are then managed and reused using FIFO strategy. This eliminates phantomjs process startup time and it also doesn't flood the system with dozens of phantomjs process under load.\r\n\r\n```js\r\nvar conversion = require(\"phantom-html-to-pdf\")();\r\nconversion({ html: \"<h1>Hello World</h1>\" }, function(err, pdf) {\r\n  console.log(pdf.numberOfPages);\r\n  pdf.stream.pipe(res);\r\n});\r\n```\r\n\r\n##Global options\r\n```js\r\nvar conversion = require(\"phantom-html-to-pdf\")({\r\n    /* number of allocated phantomjs processes */\r\n\tnumberOfWorkers: 2,\r\n\t/* timeout in ms for html conversion, when the timeout is reached, the phantom process is recycled */\r\n\ttimeout: 5000,\r\n\t/* directory where are stored temporary html and pdf files, use something like npm package reaper to clean this up */\r\n\ttmpDir: \"os/tmpdir\",\r\n\t/* optional port range where to start phantomjs server */\r\n\tportLeftBoundary: 1000,\r\n\tportRightBoundary: 2000,\r\n\t/* optional hostname where to start phantomjs server */\r\n\thost: '127.0.0.1',\r\n\t/* use rather dedicated process for every phantom printing \r\n\t  dedicated-process strategy is quite slower but can solve some bugs \r\n\t  with corporate proxy */\t\r\n\tstrategy: \"phantom-server | dedicated-process\"\r\n});\r\n```\r\n\r\n##Local options\r\n\r\n```js\r\nconversion({\r\n\thtml: \"<h1>Hello world</h1>\",\r\n\theader: \"<h2>foo</h2>\",\r\n\tfooter: \"<h2>foo</h2>\",\r\n\turl: \"http://jsreport.net\",//set direct url instead of html\r\n\tprintDelay: 0,//time in ms to wait before printing into pdf\r\n\twaitForJS: true,//set to true to enable programmatically specify (via Javascript of the page) when the pdf printing starts (see Programmatic pdf printing section for an example)\r\n\twaitForJSVarName: //name of the variable that will be used as a printing trigger, defaults to \"PHANTOM_HTML_TO_PDF_READY\" (see Programmatic pdf printing section for an example)\r\n\tallowLocalFilesAccess: false,//set to true to allow request starting with file:///\r\n\tpaperSize: {\r\n\t\tformat, orientation, margin, width, height, headerHeight, footerHeight\r\n\t},\r\n\tcustomHeaders: [],\r\n\tsettings: {\r\n\t\tjavascriptEnabled : true\r\n\t},\r\n\tviewportSize: {\r\n\t\twidth: 600,\r\n\t\theight: 600\r\n\t},\r\n\tformat: {\r\n\t\tquality: 100\r\n\t}\r\n}, cb);\r\n```\r\n\r\n##Kill workers\r\n```js\r\n//kill all phantomjs workers when using phantom-server strategy\r\nconversion.kill();\r\n```\r\n\r\n##Page numbers\r\nUse directives `{#pageNum}` and `{#numPages}` inside header or footer to add current page number resp. total number of pages.\r\n\r\n##Programmatic pdf printing\r\nIf you need to programmatic trigger the pdf printing process (because you need to calculate some values or do something async in your page before printing) you can enable the `waitForJS` local option, when `waitForJS` is set to true the pdf printing will wait until you set a variable to true in your page, by default the name of the variable is `PHANTOM_HTML_TO_PDF_READY` but you can customize it via `waitForJSVarName` option.\r\n\r\n**Example:**\r\n\r\nlocal options:\r\n```js\r\nconversion({\r\n\thtml: \"<custom html here>\",\r\n\twaitForJS: true,\r\n\tviewportSize: {\r\n\t\twidth: 600,\r\n\t\theight: 600\r\n\t},\r\n\tformat: {\r\n\t\tquality: 100\r\n\t}\r\n}, cb);\r\n```\r\n\r\ncustom html:\r\n```html\r\n<h1></h1>\r\n<script>\r\n\t// do some calculations or something async\r\n\tsetTimeout(function() {\r\n\t\twindow.PHANTOM_HTML_TO_PDF_READY = true; //this will start the pdf printing\r\n\t}, 500);\r\n</script>\r\n```\r\n\r\n\r\n##Further notes\r\nYou may find some further information and usage examples in the [jsreport documentation](http://jsreport.net/learn/phantom-pdf) or try pdf printing in the [online playground](https://playground.jsreport.net/#/playground/xykdJcxR5).\r\n\r\n\r\n##License\r\nSee [license](https://github.com/pofider/phantom-html-to-pdf/blob/master/LICENSE)",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/pofider/phantom-html-to-pdf/issues"
  },
  "_id": "phantom-html-to-pdf@0.3.3",
  "dist": {
    "shasum": "07946dcf9b9b983d8086e2d9901d484a966c88fa"
  },
  "_from": "phantom-html-to-pdf@0.3.3",
  "_resolved": "https://registry.npmjs.org/phantom-html-to-pdf/-/phantom-html-to-pdf-0.3.3.tgz"
}
